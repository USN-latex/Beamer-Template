\ProvidesClass{beamerthemehsn}[2016/12/14]


\mode<presentation>

\RequirePackage{pgf}
\RequirePackage[authoryear,round]{natbib}
\RequirePackage{xcolor}
\RequirePackage{textcomp}
%\usepackage[authoryear,round]{natbib}

%%  colours 
\definecolor{PMS2369U}{RGB}{70,70,165}
\definecolor{PMS2400U}{RGB}{59,175,162}
\definecolor{PMS444U}{RGB}{126,148,146}
\definecolor{PMS442U}{RGB}{166,182,179}
\definecolor{PMS538U}{RGB}{200,215,215}
% old colors
\definecolor{hbvred}{rgb}{0.91765,0.31373,0.27059}
\definecolor{hbvgold}{rgb}{0.60784,0.45882,0.17255}
\definecolor{hbvpink}{rgb}{0.96078,0.70196,0.74118}
\definecolor{hbvpurple}{rgb}{0.43922,0.14902,0.45098}
\definecolor{hbvturquoise}{rgb}{0.65490,0.78125,0.76863}
\definecolor{hbvblue}{rgb}{0,0.57255,0.78039}

\setbeamercolor{frametitle}{fg=black}
\setbeamercolor{title}{fg=black}
\setbeamercolor{subtitle}{fg=black}
\setbeamercolor{item}{fg=black}

\setbeamercolor{footline}{bg=white,fg=black}%bg=red}
\setbeamerfont{footline}{size=\tiny}

%% some useful lengths 
\newlength{\hsnspacing}
\setlength{\hsnspacing}{0.032\paperheight}
\newlength{\hsnrulewidth}
\setlength{\hsnrulewidth}{\paperwidth}
\addtolength{\hsnrulewidth}{-2\hsnspacing}
\newlength{\hsnrulestart}
\setlength{\hsnrulestart}{\paperheight}
\addtolength{\hsnrulestart}{-0.042\paperheight}
\newlength{\hsnfgheight}
\setlength{\hsnfgheight}{\hsnrulestart}
\addtolength{\hsnfgheight}{-1.5\hsnspacing}

%% turn off all navigation symbols
\setbeamertemplate{navigation symbols}{}

%% load pictures that are used one several slides
\pgfdeclareimage[height=0.21\paperheight,interpolate=true]{hsnlogo}{hsnlogo}

%% Name in footer 
\newcommand{\hsnfootername}{%
{\fontsize{5pt}{5pt}\sffamily\bfseries\selectfont University College of Southeast Norway}}

% set only front page
\defbeamertemplate{background canvas}{hsn theme titlepage}%
{%
\begin{pgfpicture}{0}{0}{\paperwidth}{\paperheight}
\pgfputat{\pgfpoint{\hsnspacing}{1.5\hsnspacing}}{{\color{PMS538U}\rule{\hsnrulewidth}{\hsnfgheight}}}
\pgfputat{\pgfpoint{\hsnspacing}{0.76\paperheight}}{\pgfbox[left,base]{\pgfuseimage{hsnlogo}}}
\end{pgfpicture}%
}

\defbeamertemplate{headline}{hsn theme titlepage}%
{%
     \begin{pgfpicture}{0}{0}{\paperwidth}{\paperheight}
       \pgfputat{\pgfpoint{\hsnspacing}{\hsnrulestart}}{%
       \pgfbox[left,base]{\color{PMS2369U}\rule{\hsnrulewidth}{0.01\paperheight}}
       }
     \end{pgfpicture}%
}

\defbeamertemplate{footline}{hsn theme titlepage}%
{
  \begin{pgfpicture}{0}{0}{\paperwidth}{1.5\hsnspacing}
    \pgfputat{\pgfpoint{\hsnspacing}{0.5\hsnspacing}}{\pgfbox[left,base]{\hsnfootername}}
  \end{pgfpicture}
}

\newcommand{\hsntitlepage}{%
{%
\setbeamertemplate{background canvas}[hsn theme titlepage]
\setbeamertemplate{headline}[hsn theme titlepage]
\setbeamertemplate{footline}[hsn theme titlepage]
\begin{frame}%[plain]%
\titlepage%
\end{frame}%
}%
}


%% fonts and title formatting 
\usefonttheme[onlymath]{serif}
\setbeamerfont{frametitle}{family=\rmfamily}
\setbeamerfont{title}{family=\rmfamily,series=\bfseries,size=\Large}
\setbeamercolor{author}{fg=PMS2369U}
\setbeamercolor{institute}{fg=PMS2369U}
\setbeamercolor{date}{fg=PMS2369U}

%% inner theme details 
\defbeamertemplate{itemize subitem}{dash}{\raisebox{0.6ex}{\rule{.4em}{1pt}}}
\defbeamertemplate{itemize subsubitem}{dash}{\raisebox{0.6ex}{\rule{.4em}{1pt}}}
\setbeamertemplate{itemize item}[circle]  % ball, circle, rectangle, default  
\setbeamertemplate{itemize subitem}[dash]
\setbeamertemplate{itemize subsubitem}[dash]
%\setbeamertmeplate{itemize item subsubitem}[circle]
%\setbeamertemplate{bibliography item}[text]
\bibliographystyle{apalike} 

\setbeamertemplate{headline}{
     \begin{pgfpicture}{0}{0}{\paperwidth}{0.042\paperheight}
       \pgfputat{\pgfpoint{\hsnspacing}{0pt}}{\pgfbox[left,base]{%
           \color{PMS2369U}\rule{\hsnrulewidth}{0.01\paperheight}}
       }
     \end{pgfpicture}
}

\setbeamertemplate{footline}{
  \begin{pgfpicture}{0}{0}{\paperwidth}{1.5\hsnspacing}
    \pgfputat{\pgfpoint{\hsnspacing}{0.5\hsnspacing}}{\pgfbox[left,base]{%
        \parbox{\hsnrulewidth}{\hsnfootername  \hfill \insertframenumber / \inserttotalframenumber}
     }}
  \end{pgfpicture}
}

\defbeamertemplate*{title page}{hsn}[1][]
{
  \centering
  {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\par}
  {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}
  {\color{PMS2400U} \rule{12pt}{0.5pt}}\par\vspace{2mm}
  {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor\par}
  {\usebeamerfont{institute}\usebeamercolor[fg]{institute}\insertinstitute\par}
  {\usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate\par}
  {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
}

\let\Tiny=\tiny

\mode
<all>
